<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CoreLabNew</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../../assets/styles/style.css">

    <link rel="import" href="../../bower_components/polymer/polymer.html">
    <!-- Our custom elements -->
    <link rel="import" href="../../elements/hhets-label.html">
    <link rel="import" href="../../elements/hhets-app.html">
    <link rel="import" href="../../elements/hhets-list.html">
    <link rel="import" href="../../elements/hhets-notification.html">
    <link rel="import" href="../../elements/hhets-sound.html">
    <link rel="import" href="../../elements/hhets-query.html">

</head>
<body>

	<!-- Non visible Polymer elements -->
	<hhets-sound id="sound" src="../../assets/sounds/outfile.mp3"/></hhets-sound>
	<hhets-query id="query" endpoint="http://localhost:8000/data.json"></hhets-query>
	
	<!-- Scripts -->
	<script src="../../bower_components/platform/platform.js"></script>
	<script src="../../bower_components/d3/d3.min.js"></script>
	<script src="dashboard1.js"></script>

	<!-- Content -->
	<div class="wrap">

		<header>
			<div id="alertNotifications" class="row">
			</div>
		</header>

		<div class="content">
			<div class="row line-time">
				<div></div>
			</div>
			<div class="row timing">
				<div class="bigcol">
					<div class="row">
						<p class="title-green">Less than <span>10mins</span></p>
						<hhets-label id="greenCounter" value="0" class="green"></hhets-label>
					</div>
					<div class="row">
						<hhets-list id="greenList" data="[]"></hhets-list>
					</div>
				</div>
				<div class="bigcol">
					<div class="row">
						<p class="title-yellow"><span>12mins - 15mins</span></p>
						<hhets-label id="orangeCounter" value="0" class="orange"></hhets-label>
					</div>
					<div class="row">
						<hhets-list id="orangeList" data="[]"></hhets-list>
					</div>
				</div>
				<div class="bigcol">
					<div class="row">
						<p class="title-red">Greater than <span>15mins</span></p>
						<hhets-label id="redCounter" value="0" class="red"></hhets-label>
					</div>
					<div class="row">
						<hhets-list id="redList" data="[]"></hhets-list>
					</div>

				</div>
			</div>
		</div>
	</div>
	<!-- end wrap -->

</body>

<script>
	//Bind ajax response to refresh method
	document.addEventListener('polymer-ready', function() {
		var query = document.getElementById("query");

		query.endpoint = location.origin +"/data.json";
		query.addEventListener("polymer-response", 
			function(e) {
				refresh(e.detail.response);
			}
		);

	});
</script>

</html>
